{"ast":null,"code":"const domain = \"walletconnect.org\";\nconst alphanumerical = \"abcdefghijklmnopqrstuvwxyz0123456789\";\nconst bridges = alphanumerical.split(\"\").map(char => `https://${char}.bridge.walletconnect.org`);\nexport function extractHostname(url) {\n  let hostname = url.indexOf(\"//\") > -1 ? url.split(\"/\")[2] : url.split(\"/\")[0];\n  hostname = hostname.split(\":\")[0];\n  hostname = hostname.split(\"?\")[0];\n  return hostname;\n}\nexport function extractRootDomain(url) {\n  return extractHostname(url).split(\".\").slice(-2).join(\".\");\n}\nexport function randomBridgeIndex() {\n  return Math.floor(Math.random() * bridges.length);\n}\nexport function selectRandomBridgeUrl() {\n  return bridges[randomBridgeIndex()];\n}\nexport function shouldSelectRandomly(url) {\n  return extractRootDomain(url) === domain;\n}\nexport function getBridgeUrl(url) {\n  if (shouldSelectRandomly(url)) {\n    return selectRandomBridgeUrl();\n  }\n\n  return url;\n}","map":{"version":3,"sources":["../../src/url.ts"],"names":[],"mappings":"AAAA,MAAM,MAAM,GAAG,mBAAf;AAEA,MAAM,cAAc,GAAG,sCAAvB;AAEA,MAAM,OAAO,GAAG,cAAc,CAAC,KAAf,CAAqB,EAArB,EAAyB,GAAzB,CAA6B,IAAI,IAAI,WAAW,IAAI,2BAApD,CAAhB;AAEA,OAAM,SAAU,eAAV,CAA0B,GAA1B,EAAqC;AAEzC,MAAI,QAAQ,GAAG,GAAG,CAAC,OAAJ,CAAY,IAAZ,IAAoB,CAAC,CAArB,GAAyB,GAAG,CAAC,KAAJ,CAAU,GAAV,EAAe,CAAf,CAAzB,GAA6C,GAAG,CAAC,KAAJ,CAAU,GAAV,EAAe,CAAf,CAA5D;AAEA,EAAA,QAAQ,GAAG,QAAQ,CAAC,KAAT,CAAe,GAAf,EAAoB,CAApB,CAAX;AAEA,EAAA,QAAQ,GAAG,QAAQ,CAAC,KAAT,CAAe,GAAf,EAAoB,CAApB,CAAX;AACA,SAAO,QAAP;AACD;AAED,OAAM,SAAU,iBAAV,CAA4B,GAA5B,EAAuC;AAC3C,SAAO,eAAe,CAAC,GAAD,CAAf,CACJ,KADI,CACE,GADF,EAEJ,KAFI,CAEE,CAAC,CAFH,EAGJ,IAHI,CAGC,GAHD,CAAP;AAID;AAED,OAAM,SAAU,iBAAV,GAA2B;AAC/B,SAAO,IAAI,CAAC,KAAL,CAAW,IAAI,CAAC,MAAL,KAAgB,OAAO,CAAC,MAAnC,CAAP;AACD;AAED,OAAM,SAAU,qBAAV,GAA+B;AACnC,SAAO,OAAO,CAAC,iBAAiB,EAAlB,CAAd;AACD;AAED,OAAM,SAAU,oBAAV,CAA+B,GAA/B,EAA0C;AAC9C,SAAO,iBAAiB,CAAC,GAAD,CAAjB,KAA2B,MAAlC;AACD;AAED,OAAM,SAAU,YAAV,CAAuB,GAAvB,EAAkC;AACtC,MAAI,oBAAoB,CAAC,GAAD,CAAxB,EAA+B;AAC7B,WAAO,qBAAqB,EAA5B;AACD;;AACD,SAAO,GAAP;AACD","sourceRoot":"","sourcesContent":["const domain = \"walletconnect.org\";\nconst alphanumerical = \"abcdefghijklmnopqrstuvwxyz0123456789\";\nconst bridges = alphanumerical.split(\"\").map(char => `https://${char}.bridge.walletconnect.org`);\nexport function extractHostname(url) {\n    let hostname = url.indexOf(\"//\") > -1 ? url.split(\"/\")[2] : url.split(\"/\")[0];\n    hostname = hostname.split(\":\")[0];\n    hostname = hostname.split(\"?\")[0];\n    return hostname;\n}\nexport function extractRootDomain(url) {\n    return extractHostname(url)\n        .split(\".\")\n        .slice(-2)\n        .join(\".\");\n}\nexport function randomBridgeIndex() {\n    return Math.floor(Math.random() * bridges.length);\n}\nexport function selectRandomBridgeUrl() {\n    return bridges[randomBridgeIndex()];\n}\nexport function shouldSelectRandomly(url) {\n    return extractRootDomain(url) === domain;\n}\nexport function getBridgeUrl(url) {\n    if (shouldSelectRandomly(url)) {\n        return selectRandomBridgeUrl();\n    }\n    return url;\n}\n//# sourceMappingURL=url.js.map"]},"metadata":{},"sourceType":"module"}