{"version":3,"file":"index.js","sources":["../node_modules/babel-plugin-transform-async-to-promises/helpers.js","../src/components/DragMove.tsx","../src/index.tsx"],"sourcesContent":["// A type of promise-like that resolves synchronously and supports only one observer\nexport const _Pact = /*#__PURE__*/(function() {\n\tfunction _Pact() {}\n\t_Pact.prototype.then = function(onFulfilled, onRejected) {\n\t\tconst result = new _Pact();\n\t\tconst state = this.s;\n\t\tif (state) {\n\t\t\tconst callback = state & 1 ? onFulfilled : onRejected;\n\t\t\tif (callback) {\n\t\t\t\ttry {\n\t\t\t\t\t_settle(result, 1, callback(this.v));\n\t\t\t\t} catch (e) {\n\t\t\t\t\t_settle(result, 2, e);\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t} else {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t}\n\t\tthis.o = function(_this) {\n\t\t\ttry {\n\t\t\t\tconst value = _this.v;\n\t\t\t\tif (_this.s & 1) {\n\t\t\t\t\t_settle(result, 1, onFulfilled ? onFulfilled(value) : value);\n\t\t\t\t} else if (onRejected) {\n\t\t\t\t\t_settle(result, 1, onRejected(value));\n\t\t\t\t} else {\n\t\t\t\t\t_settle(result, 2, value);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(result, 2, e);\n\t\t\t}\n\t\t};\n\t\treturn result;\n\t}\n\treturn _Pact;\n})();\n\n// Settles a pact synchronously\nexport function _settle(pact, state, value) {\n\tif (!pact.s) {\n\t\tif (value instanceof _Pact) {\n\t\t\tif (value.s) {\n\t\t\t\tif (state & 1) {\n\t\t\t\t\tstate = value.s;\n\t\t\t\t}\n\t\t\t\tvalue = value.v;\n\t\t\t} else {\n\t\t\t\tvalue.o = _settle.bind(null, pact, state);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tif (value && value.then) {\n\t\t\tvalue.then(_settle.bind(null, pact, state), _settle.bind(null, pact, 2));\n\t\t\treturn;\n\t\t}\n\t\tpact.s = state;\n\t\tpact.v = value;\n\t\tconst observer = pact.o;\n\t\tif (observer) {\n\t\t\tobserver(pact);\n\t\t}\n\t}\n}\n\nexport function _isSettledPact(thenable) {\n\treturn thenable instanceof _Pact && thenable.s & 1;\n}\n\n// Converts argument to a function that always returns a Promise\nexport function _async(f) {\n\treturn function() {\n\t\tfor (var args = [], i = 0; i < arguments.length; i++) {\n\t\t\targs[i] = arguments[i];\n\t\t}\n\t\ttry {\n\t\t\treturn Promise.resolve(f.apply(this, args));\n\t\t} catch(e) {\n\t\t\treturn Promise.reject(e);\n\t\t}\n\t}\n}\n\n// Awaits on a value that may or may not be a Promise (equivalent to the await keyword in ES2015, with continuations passed explicitly)\nexport function _await(value, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(value) : value;\n\t}\n\tif (!value || !value.then) {\n\t\tvalue = Promise.resolve(value);\n\t}\n\treturn then ? value.then(then) : value;\n}\n\n// Awaits on a value that may or may not be a Promise, then ignores it\nexport function _awaitIgnored(value, direct) {\n\tif (!direct) {\n\t\treturn value && value.then ? value.then(_empty) : Promise.resolve();\n\t}\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continue(value, then) {\n\treturn value && value.then ? value.then(then) : then(value);\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continueIgnored(value) {\n\tif (value && value.then) {\n\t\treturn value.then(_empty);\n\t}\n}\n\n// Asynchronously iterate through an object that has a length property, passing the index as the first argument to the callback (even as the length property changes)\nexport function _forTo(array, body, check) {\n\tvar i = -1, pact, reject;\n\tfunction _cycle(result) {\n\t\ttry {\n\t\t\twhile (++i < array.length && (!check || !check())) {\n\t\t\t\tresult = body(i);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (pact) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t} else {\n\t\t\t\tpact = result;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t}\n\t}\n\t_cycle();\n\treturn pact;\n}\n\n// Asynchronously iterate through an object's properties (including properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forIn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tkeys.push(key);\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\n// Asynchronously iterate through an object's own properties (excluding properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forOwn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tif (Object.prototype.hasOwnProperty.call(target, key)) {\n\t\t\tkeys.push(key);\n\t\t}\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\nexport const _iteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.iterator || (Symbol.iterator = Symbol(\"Symbol.iterator\"))) : \"@@iterator\";\n\n// Asynchronously iterate through an object's values\n// Uses for...of if the runtime supports it, otherwise iterates until length on a copy\nexport function _forOf(target, body, check) {\n\tif (typeof target[_iteratorSymbol] === \"function\") {\n\t\tvar iterator = target[_iteratorSymbol](), step, pact, reject;\n\t\tfunction _cycle(result) {\n\t\t\ttry {\n\t\t\t\twhile (!(step = iterator.next()).done && (!check || !check())) {\n\t\t\t\t\tresult = body(step.value);\n\t\t\t\t\tif (result && result.then) {\n\t\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (pact) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t} else {\n\t\t\t\t\tpact = result;\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t\t}\n\t\t}\n\t\t_cycle();\n\t\tif (iterator.return) {\n\t\t\tvar _fixup = function(value) {\n\t\t\t\ttry {\n\t\t\t\t\tif (!step.done) {\n\t\t\t\t\t\titerator.return();\n\t\t\t\t\t}\n\t\t\t\t} catch(e) {\n\t\t\t\t}\n\t\t\t\treturn value;\n\t\t\t}\n\t\t\tif (pact && pact.then) {\n\t\t\t\treturn pact.then(_fixup, function(e) {\n\t\t\t\t\tthrow _fixup(e);\n\t\t\t\t});\n\t\t\t}\n\t\t\t_fixup();\n\t\t}\n\t\treturn pact;\n\t}\n\t// No support for Symbol.iterator\n\tif (!(\"length\" in target)) {\n\t\tthrow new TypeError(\"Object is not iterable\");\n\t}\n\t// Handle live collections properly\n\tvar values = [];\n\tfor (var i = 0; i < target.length; i++) {\n\t\tvalues.push(target[i]);\n\t}\n\treturn _forTo(values, function(i) { return body(values[i]); }, check);\n}\n\nexport const _asyncIteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.asyncIterator || (Symbol.asyncIterator = Symbol(\"Symbol.asyncIterator\"))) : \"@@asyncIterator\";\n\n// Asynchronously iterate on a value using it's async iterator if present, or its synchronous iterator if missing\nexport function _forAwaitOf(target, body, check) {\n\tif (typeof target[_asyncIteratorSymbol] === \"function\") {\n\t\tvar pact = new _Pact();\n\t\tvar iterator = target[_asyncIteratorSymbol]();\n\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\treturn pact;\n\t\tfunction _resumeAfterBody(result) {\n\t\t\tif (check && check()) {\n\t\t\t\treturn _settle(pact, 1, iterator.return ? iterator.return().then(function() { return result; }) : result);\n\t\t\t}\n\t\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\t}\n\t\tfunction _resumeAfterNext(step) {\n\t\t\tif (step.done) {\n\t\t\t\t_settle(pact, 1);\n\t\t\t} else {\n\t\t\t\tPromise.resolve(body(step.value)).then(_resumeAfterBody).then(void 0, _reject);\n\t\t\t}\n\t\t}\n\t\tfunction _reject(error) {\n\t\t\t_settle(pact, 2, iterator.return ? iterator.return().then(function() { return error; }) : error);\n\t\t}\n\t}\n\treturn Promise.resolve(_forOf(target, function(value) { return Promise.resolve(value).then(body); }, check));\n}\n\n// Asynchronously implement a generic for loop\nexport function _for(test, update, body) {\n\tvar stage;\n\tfor (;;) {\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t\tif (shouldContinue.then) {\n\t\t\tstage = 0;\n\t\t\tbreak;\n\t\t}\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.s;\n\t\t\t} else {\n\t\t\t\tstage = 1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (update) {\n\t\t\tvar updateValue = update();\n\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\tstage = 2;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\tvar pact = new _Pact();\n\tvar reject = _settle.bind(null, pact, 2);\n\t(stage === 0 ? shouldContinue.then(_resumeAfterTest) : stage === 1 ? result.then(_resumeAfterBody) : updateValue.then(_resumeAfterUpdate)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tdo {\n\t\t\tif (update) {\n\t\t\t\tupdateValue = update();\n\t\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\t\tupdateValue.then(_resumeAfterUpdate).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tshouldContinue = test();\n\t\t\tif (!shouldContinue || (_isSettledPact(shouldContinue) && !shouldContinue.v)) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t}\n\t\t} while (!result || !result.then);\n\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterBody(result);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n\tfunction _resumeAfterUpdate() {\n\t\tif (shouldContinue = test()) {\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterTest(shouldContinue);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a do ... while loop\nexport function _do(body, test) {\n\tvar awaitBody;\n\tdo {\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t} else {\n\t\t\t\tawaitBody = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t} while (!shouldContinue.then);\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : shouldContinue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tfor (;;) {\n\t\t\tshouldContinue = test();\n\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t}\n\t\t\tif (!shouldContinue) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\tresult = result.v;\n\t\t\t\t} else {\n\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tdo {\n\t\t\t\tresult = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tshouldContinue = test();\n\t\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t\t}\n\t\t\t\tif (!shouldContinue) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} while (!shouldContinue.then);\n\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a switch statement\nexport function _switch(discriminant, cases) {\n\tvar dispatchIndex = -1;\n\tvar awaitBody;\n\touter: {\n\t\tfor (var i = 0; i < cases.length; i++) {\n\t\t\tvar test = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvar testValue = test();\n\t\t\t\tif (testValue && testValue.then) {\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tif (testValue === discriminant) {\n\t\t\t\t\tdispatchIndex = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Found the default case, set it as the pending dispatch case\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tif (dispatchIndex !== -1) {\n\t\t\tdo {\n\t\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\t\twhile (!body) {\n\t\t\t\t\tdispatchIndex++;\n\t\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t\t}\n\t\t\t\tvar result = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tawaitBody = true;\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\t\tdispatchIndex++;\n\t\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t\treturn result;\n\t\t}\n\t}\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : testValue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterTest(value) {\n\t\tfor (;;) {\n\t\t\tif (value === discriminant) {\n\t\t\t\tdispatchIndex = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (++i === cases.length) {\n\t\t\t\tif (dispatchIndex !== -1) {\n\t\t\t\t\tbreak;\n\t\t\t\t} else {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\ttest = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvalue = test();\n\t\t\t\tif (value && value.then) {\n\t\t\t\t\tvalue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tdo {\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tvar result = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tdispatchIndex++;\n\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterBody(result) {\n\t\tfor (;;) {\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tif (!fallthroughCheck || fallthroughCheck()) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdispatchIndex++;\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _call(body, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(body()) : body();\n\t}\n\ttry {\n\t\tvar result = Promise.resolve(body());\n\t\treturn then ? result.then(then) : result;\n\t} catch (e) {\n\t\treturn Promise.reject(e);\n\t}\n}\n\n// Asynchronously call a function and swallow the result\nexport function _callIgnored(body, direct) {\n\treturn _call(body, _empty, direct);\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _invoke(body, then) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(then);\n\t}\n\treturn then(result);\n}\n\n// Asynchronously call a function and swallow the result\nexport function _invokeIgnored(body) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(_empty);\n\t}\n}\n\n// Asynchronously call a function and send errors to recovery continuation\nexport function _catch(body, recover) {\n\ttry {\n\t\tvar result = body();\n\t} catch(e) {\n\t\treturn recover(e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(void 0, recover);\n\t}\n\treturn result;\n}\n\n// Asynchronously await a promise and pass the result to a finally continuation\nexport function _finallyRethrows(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer(true, e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer.bind(null, false), finalizer.bind(null, true));\n\t}\n\treturn finalizer(false, result);\n}\n\n// Asynchronously await a promise and invoke a finally continuation that always overrides the result\nexport function _finally(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer();\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer, finalizer);\n\t}\n\treturn finalizer();\n}\n\n// Rethrow or return a value from a finally continuation\nexport function _rethrow(thrown, value) {\n\tif (thrown)\n\t\tthrow value;\n\treturn value;\n}\n\n// Empty function to implement break and other control flow that ignores asynchronous results\nexport function _empty() {\n}\n\n// Sentinel value for early returns in generators \nexport const _earlyReturn = /*#__PURE__*/ {};\n\n// Asynchronously call a function and send errors to recovery continuation, skipping early returns\nexport function _catchInGenerator(body, recover) {\n\treturn _catch(body, function(e) {\n\t\tif (e === _earlyReturn) {\n\t\t\tthrow e;\n\t\t}\n\t\treturn recover(e);\n\t});\n}\n\n// Asynchronous generator class; accepts the entrypoint of the generator, to which it passes itself when the generator should start\nexport const _AsyncGenerator = /*#__PURE__*/(function() {\n\tfunction _AsyncGenerator(entry) {\n\t\tthis._entry = entry;\n\t\tthis._pact = null;\n\t\tthis._resolve = null;\n\t\tthis._return = null;\n\t\tthis._promise = null;\n\t}\n\n\tfunction _wrapReturnedValue(value) {\n\t\treturn { value: value, done: true };\n\t}\n\tfunction _wrapYieldedValue(value) {\n\t\treturn { value: value, done: false };\n\t}\n\n\t_AsyncGenerator.prototype._yield = function(value) {\n\t\t// Yield the value to the pending next call\n\t\tthis._resolve(value && value.then ? value.then(_wrapYieldedValue) : _wrapYieldedValue(value));\n\t\t// Return a pact for an upcoming next/return/throw call\n\t\treturn this._pact = new _Pact();\n\t};\n\t_AsyncGenerator.prototype.next = function(value) {\n\t\t// Advance the generator, starting it if it has yet to be started\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tconst _entry = _this._entry;\n\t\t\t\tif (_entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the next call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Start the generator\n\t\t\t\t_this._entry = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\tfunction returnValue(value) {\n\t\t\t\t\t_this._resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t_this._resolve = null;\n\t\t\t\t}\n\t\t\t\tvar result = _entry(_this);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tresult.then(returnValue, function(error) {\n\t\t\t\t\t\tif (error === _earlyReturn) {\n\t\t\t\t\t\t\treturnValue(_this._return);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst pact = new _Pact();\n\t\t\t\t\t\t\t_this._resolve(pact);\n\t\t\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t\t\t_this._resolve = null;\n\t\t\t\t\t\t\t_resolve(pact, 2, error);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\treturnValue(result);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Generator is started and a yield expression is pending, settle it\n\t\t\t\t_this._pact = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\t_settle(_pact, 1, value);\n\t\t\t}\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.return = function(value) {\n\t\t// Early return from the generator if started, otherwise abandons the generator\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the return call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return the specified value\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t}\n\t\t\t// Settle the yield expression with a rejected \"early return\" value\n\t\t\t_this._return = value;\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, _earlyReturn);\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.throw = function(error) {\n\t\t// Inject an exception into the pending yield expression\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve, reject) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the throw call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return a rejected Promise containing the error\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn reject(error);\n\t\t\t}\n\t\t\t// Settle the yield expression with the value as a rejection\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, error);\n\t\t});\n\t};\n\n\t_AsyncGenerator.prototype[_asyncIteratorSymbol] = function() {\n\t\treturn this;\n\t};\n\t\n\treturn _AsyncGenerator;\n})();\n","import React, { useState } from \"react\";\n\n// @ts-expect-error\nexport default function DragMove(props) {\n  const {\n    onPointerDown,\n    onPointerUp,\n    onPointerMove,\n    onDragMove,\n    children,\n    style,\n    className\n  } = props;\n\n  const [isDragging, setIsDragging] = useState(false);\n\n  // @ts-expect-error\n  const handlePointerDown = (e) => {\n    setIsDragging(true);\n\n    onPointerDown(e);\n  };\n\n  // @ts-expect-error\n  const handlePointerUp = (e) => {\n    setIsDragging(false);\n\n    onPointerUp(e);\n  };\n\n  // @ts-expect-error\n  const handlePointerMove = (e) => {\n    if (isDragging) onDragMove(e);\n\n    onPointerMove(e);\n  };\n\n  return (\n    <div\n      onPointerDown={handlePointerDown}\n      onPointerUp={handlePointerUp}\n      onPointerMove={handlePointerMove}\n      style={style}\n      className={className}\n    >\n      {children}\n    </div>\n  );\n}\n\nDragMove.defaultProps = {\n  onPointerDown: () => {},\n  onPointerUp: () => {},\n  onPointerMove: () => {}\n};\n","import { Box, Container, makeStyles, Typography } from '@material-ui/core';\nimport { SpeedDial, SpeedDialAction } from '@material-ui/lab';\nimport * as React from 'react';\nimport DragMove from './components/DragMove';\nimport AccountBalanceWalletIcon from '@material-ui/icons/AccountBalanceWallet';\nimport WalletConnectProvider from '@walletconnect/web3-provider';\nimport PetsIcon from '@material-ui/icons/Pets';\n\nimport Web3 from 'web3';\nimport Web3Modal from \"web3modal\";\nimport { InstalledApp } from './types/installedApp';\nimport abi from './utils/abi/Byoa.json';\nimport { ethers } from 'ethers';\n\ninterface Props {\n  dataPipe? : {\n    data: any\n  }\n}\n\nconst byoaContractAddress = `0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512`;\nconst providerNetwork = `http://localhost:8545`;\nconst jrpcProvider = new ethers.providers.JsonRpcProvider('https://eth-mainnet.alchemyapi.io/v2/Uo717K-DDAxlSM5gXM-zgv678k0aMZH5', 'mainnet');\n\nlet listeners : any = [];\n// @ts-expect-error\nwindow.byoa = {\n  context: {\n    ethers: ethers,\n    provider: ethers.getDefaultProvider('https://eth-mainnet.alchemyapi.io/v2/Uo717K-DDAxlSM5gXM-zgv678k0aMZH5'),\n    jrpcProvider: jrpcProvider,\n    addDataListener: (cb : any) => {\n      listeners.push(cb);\n    },\n    account: {\n      address: null\n    }\n  }\n};\n\nconst useStyles = makeStyles({\n  root: {\n    position: 'fixed',\n    top: 0,\n    left: 0,\n    minWidth: '100vw',\n    minHeight: '100vh',\n    background: 'rgba(50,0,0,0.25)',\n    pointerEvents: 'none'\n  },\n  speedDial: {\n    position: 'fixed',\n    bottom: 20,\n    right: 20,\n    zIndex: 1000000000\n  },\n  byoaButton: {\n\n  }\n});\n\nconst providerOptions = {  \n  walletconnect: {\n    display: {\n      name: \"Mobile\"\n    },\n    package: WalletConnectProvider,\n    options: {\n      infuraId: \"6430aa46e9354b91bea44e464af71f7a\" // required\n    }\n  }\n};\n\nconst web3Modal = new Web3Modal({\n  network: providerNetwork, // optional\n  cacheProvider: true, // optional\n  disableInjectedProvider: false,\n  providerOptions // required\n});\n\n// @ts-expect-error\nexport const ByoaSDK = (props : Props) => {\n  const classes = useStyles();\n  const [translateDial, setTranslateDial] = React.useState({\n    x: 0,\n    y: 0\n  });\n  const [dialDirection, setDialDirection] = React.useState<\"left\" | \"right\" | \"up\" | \"down\" | undefined>(\"up\");\n  const [openDial, setOpenDial] = React.useState(false);\n  const [provider, setProvider] = React.useState<any>(null);\n  const [web3, setWeb3] = React.useState<any>(null);\n  const [accountAddress, setAccountAddress] = React.useState<String | null>(null);\n\n  const [installedApps, setInstalledApps] = React.useState<InstalledApp[]>([]);\n\n  \n  const connectWallet = async () => {\n    try {\n      let p = provider;\n      if (p === null) {\n        p = await web3Modal.connect();\n        if(p === null) {\n          throw new Error('Unable to connect provider to modal');\n        }\n        p.on('accountsChanged', (e : any) => {\n            console.log(e);\n          disconnectWallet();\n        });\n            p.on(\"chainChanged\", (chainId: number) => {\n                console.log(\"chain \" + chainId);\n            });\n        setProvider(p);\n      }\n\n      let w3 = web3;\n      if (w3 === null) {\n        w3 = new Web3(p);\n        if (w3 === null) {\n          throw new Error('Unable to connect web3');\n        }\n        setWeb3(w3);\n      }\n\n      const accounts = await p.request({method: 'eth_accounts'});\n      if (accounts.length > 0) {\n        setAccountAddress(accounts[0]);\n        setTimeout( async () => {\n            refreshMyApps(accounts[0]);\n        }, 2000);\n      }\n    } catch (error) {\n      console.log(error);\n      alert('Unable to connect wallet. Please try again.');\n    }\n  };\n\n  const disconnectWallet = async () => {\n    await web3Modal.clearCachedProvider();\n    setProvider(null);\n    setAccountAddress(null);\n  };\n\n  const getTokenMetadata = async (uri : string) : Promise<any> =>  {\n    return new Promise<any>( (resolve) => {\n      resolve({\n        meta: uri,\n        image: \"ipfs://QmYoSTehmdFUnSYCFrYdvSrEtNGy9U5gWEfroCTMGecHKw/0.png\",\n        byoa: {\n          browser: {\n            uri: \"http://localhost:3000/scripts/example1.js\",\n            target: \"host\"\n          }\n        }\n      });\n    });\n  };\n\n  const transformIPFSToPinned = (ipfsURI : String) : String => {\n    return `${ipfsURI}`;\n  }\n\n  const refreshMyApps = async (addressHelper : String | undefined | null) => {\n    let w3 = new Web3(providerNetwork);\n    try {\n        // @ts-expect-error\n        let contract = new w3.eth.Contract(abi.abi, byoaContractAddress);\n      \n        let myTokenIds = await contract.methods.walletOfOwner(accountAddress ? accountAddress : addressHelper).call();\n        console.log(myTokenIds);\n\n        let appLUT : any = {};\n        \n\n        let allInstalls : InstalledApp[] = [];\n        for (var i = 0; i < myTokenIds.length; i ++) {\n            let tid = parseInt(myTokenIds[i]);\n            let appIdForToken = await contract.methods.getAppIdByTokenId(tid).call();\n            let directTokenURI = await contract.methods.tokenURI(tid).call();\n            let tokenMeta = await getTokenMetadata(directTokenURI);\n            \n            if(appLUT[appIdForToken] !== null) {\n              let appDetails = await contract.methods.getAppDetailsById(parseInt(appIdForToken)).call();\n              appLUT[appIdForToken] = \n              {\n                id: appIdForToken,\n                name: appDetails[0],\n                description: appDetails[1],\n                tokenURI: appDetails[2],\n                owner: appDetails[3],\n                price: parseInt(appDetails[4]),\n                address: byoaContractAddress,\n                version: 'beta v0.1' \n              }\n            }\n\n            let ia : InstalledApp = {\n                id: tid,\n                tokenURI: directTokenURI,\n                app: appLUT[appIdForToken],\n                imageURI: tokenMeta.image,\n                byoaDetails: {\n                  uri: tokenMeta.byoa.browser.uri,\n                  target: tokenMeta.byoa.browser.target\n                }\n            }\n\n            allInstalls.push(ia);\n        }\n        console.log(allInstalls)\n        setInstalledApps(allInstalls);\n      \n    } catch( error ) {\n      console.log(`Error fetching apps: ${error}`) ;\n    }\n  };\n  \n  return (\n    <Box className={classes.root}>\n      <Container className={classes.speedDial}>\n        <DragMove onDragMove={(e : any) => {\n          setTranslateDial({\n            x: translateDial.x + e.movementX,\n            y: translateDial.y + e.movementY\n          });\n          if (e.clientY < 200) {\n            if (dialDirection !== \"down\") setDialDirection(\"down\");\n          }\n          if (e.clientY > 200) {\n            if (dialDirection !== \"up\") setDialDirection(\"up\");\n          }\n        }}>\n          <SpeedDial\n            style={{\n              transform: `translateX(${translateDial.x}px) translateY(${translateDial.y}px)`\n            }}\n            ariaLabel=\"BYOA Speed Dial\"\n            hidden={false}\n            icon={<Typography className={classes.byoaButton}>RUN</Typography>}\n            open={openDial}\n            onOpen={() => {\n              setOpenDial(true);\n            }}\n            onClose={() => {\n              setOpenDial(false);\n            }}\n            onClick={() => {\n              \n            }}\n            direction={dialDirection}\n          >\n            <SpeedDialAction\n              key={'sda-connect-wallet'}\n              icon={<AccountBalanceWalletIcon />}\n              tooltipTitle={'Connect Wallet'}\n              onClick={() => {\n                connectWallet();\n              }}\n            />\n            {installedApps.map((installedApp, i) => (\n              <SpeedDialAction\n                key={`sd-action-${installedApp.id}-${i}`}\n                icon={<PetsIcon />}\n                tooltipTitle={`${installedApp.app.name} (#${installedApp.id})`}\n                onClick={() => {\n                  let scriptID = `byoa-${installedApp.id}-${installedApp.app.id}`;\n                  const existingApp = document.getElementById(scriptID);\n                  if (!existingApp) {\n                    const script = document.createElement('script');\n                    script.src = transformIPFSToPinned(installedApp.byoaDetails.uri) as string;\n                    script.id = scriptID;\n                    if(installedApp.byoaDetails.target == \"host\") {\n                      document.body.appendChild(script);\n                      script.onload = () => {\n                        // The script has loaded, possibly pass providers to it now\n                        console.log('loaded script');\n                      }\n                    }\n                  }\n                }}\n              />\n            ))}\n\n          </SpeedDial>\n        </DragMove>\n          \n      </Container>\n    </Box>\n  )\n}\n"],"names":["DragMove","props","onPointerDown","onPointerUp","onPointerMove","onDragMove","children","style","className","useState","isDragging","setIsDragging","handlePointerDown","e","handlePointerUp","handlePointerMove","React","defaultProps","byoaContractAddress","providerNetwork","jrpcProvider","ethers","providers","JsonRpcProvider","window","byoa","context","provider","getDefaultProvider","addDataListener","cb","listeners","account","address","useStyles","makeStyles","root","position","top","left","minWidth","minHeight","background","pointerEvents","speedDial","bottom","right","zIndex","byoaButton","providerOptions","walletconnect","display","name","WalletConnectProvider","options","infuraId","web3Modal","Web3Modal","network","cacheProvider","disableInjectedProvider","ByoaSDK","classes","x","y","translateDial","setTranslateDial","dialDirection","setDialDirection","openDial","setOpenDial","setProvider","web3","setWeb3","accountAddress","setAccountAddress","installedApps","setInstalledApps","connectWallet","w3","Web3","p","Error","request","method","accounts","length","setTimeout","refreshMyApps","connect","on","console","log","disconnectWallet","chainId","error","alert","clearCachedProvider","getTokenMetadata","uri","Promise","resolve","meta","image","browser","target","transformIPFSToPinned","ipfsURI","addressHelper","contract","eth","Contract","abi","methods","walletOfOwner","call","myTokenIds","allInstalls","appLUT","i","tid","parseInt","getAppIdByTokenId","appIdForToken","tokenURI","directTokenURI","tokenMeta","ia","id","app","imageURI","byoaDetails","push","getAppDetailsById","appDetails","description","owner","price","version","Box","Container","movementX","movementY","clientY","SpeedDial","transform","ariaLabel","hidden","icon","Typography","open","onOpen","onClose","onClick","direction","SpeedDialAction","key","AccountBalanceWalletIcon","tooltipTitle","map","installedApp","PetsIcon","scriptID","existingApp","document","getElementById","script","createElement","src","body","appendChild","onload"],"mappings":"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"}